<html>

<head>
    <script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
    <script>
    var totalVal = 0;
    var totalInvested = 0;

    var coins = [{
        id: "btc",
        num: 6.12,
        invested: 5229
    }, {
        id: "bch",
        num: 6.12,
        invested: 0
    }, {
        id: "etc",
        num: 277.74,
        invested: 0
    }, {
        id: "eth",
        num: 444.60,
        invested: 4445
    }, {
        id: "ltc",
        num: 117.03,
        invested: 350
    }, {
        id: "maid",
        num: 18966,
        invested: 5000
    }, {
        id: "xrp",
        num: 34113.60,
        invested: 5000
    }, {
        id: "fct",
        num: 646.68,
        invested: 5000
    }];

    function loadTicker(i) {
        $.ajax({
            url: "https://api.cryptonator.com/api/ticker/" + coins[i].id + "-eur",
            type: "GET",
            dataType: 'json',
            indexValue: i,
            success: function(resultData) {
                $("#" + coins[this.indexValue].id + "Price").text((resultData.ticker.price * 1.0).toFixed(2));
                $("#" + coins[this.indexValue].id + "Val").text((resultData.ticker.price * coins[this.indexValue].num * 1.0).toFixed(0));
                $("#" + coins[this.indexValue].id + "Invested").text((coins[this.indexValue].invested * 1.0).toFixed(0));
                $("#" + coins[this.indexValue].id + "Num").text((coins[this.indexValue].num * 1.0).toFixed(1));
                $("#" + coins[this.indexValue].id + "Multiplier").text((resultData.ticker.price / (coins[this.indexValue].invested / coins[this.indexValue].num) * 1.0).toFixed(1));
                totalVal += resultData.ticker.price * coins[this.indexValue].num;
                totalInvested += coins[this.indexValue].invested;
                $("#totalVal").text((totalVal * 1.0).toFixed(0));
                $("#totalInvested").text((totalInvested * 1.0).toFixed(0));
                $("#totalProfit").text(((totalVal - totalInvested) * 1.0).toFixed(0));
                $("#totalMultiplier").text(((totalVal / totalInvested) * 1.0).toFixed(1));
            },
            error: function(jqXHR, textStatus, errorThrown) {},
            timeout: 120000
        });

        $.ajax({
            url: "https://api.cryptonator.com/api/ticker/" + coins[i].id + "-usd",
            type: "GET",
            indexValue: i,
            success: function(resultData) {
                $("#" + coins[this.indexValue].id + "PriceUSD").text((resultData.ticker.price * 1.0).toFixed(2));
            },
            error: function(jqXHR, textStatus, errorThrown) {},
            timeout: 120000
        });
    }

    for (i in coins) {
        setTimeout("loadTicker(" + i + ")", i * 500);
    }
    </script>
</head>

<body>
    <table>
        <th>
            <td>usd</td>
            <td>eur</td>
            <td>val</td>
            <td>invested</td>
            <td>num</td>
            <td>multiplier</td>
        </th>
        <tr>
            <td>BTC</td>
            <td>$ <span id="btcPriceUSD"></span></td>
            <td>&euro; <span id="btcPrice"></span></td>
            <td>&euro; <span id="btcVal"></span></td>
            <td>&euro; <span id="btcInvested"></span></td>
            <td><span id="btcNum"></span></td>
            <td>x<span id="btcMultiplier"></span></td>
        </tr>
        <tr>
            <td>BCC</td>
            <td>$ <span id="bccPriceUSD"></span></td>
            <td>&euro; <span id="bccPrice"></span></td>
            <td>&euro; <span id="bccVal"></span></td>
            <td>&euro; <span id="bccInvested"></span></td>
            <td><span id="bccNum"></span></td>
            <td>x<span id="bccMultiplier"></span></td>
        </tr>
        <tr>
            <td>ETH</td>
            <td>$ <span id="ethPriceUSD"></span></td>
            <td>&euro; <span id="ethPrice"></span></td>
            <td>&euro; <span id="ethVal"></span></td>
            <td>&euro; <span id="ethInvested"></span></td>
            <td><span id="ethNum"></span></td>
            <td>x<span id="ethMultiplier"></span></td>
        </tr>
        <tr>
            <td>ETC</td>
            <td>$ <span id="etcPriceUSD"></span></td>
            <td>&euro; <span id="etcPrice"></span></td>
            <td>&euro; <span id="etcVal"></span></td>
            <td>&euro; <span id="etcInvested"></span></td>
            <td><span id="etcNum"></span></td>
            <td>x<span id="etcMultiplier"></span></td>
        </tr>
        <tr>
            <td>LTC</td>
            <td>$ <span id="ltcPriceUSD"></span></td>
            <td>&euro; <span id="ltcPrice"></span></td>
            <td>&euro; <span id="ltcVal"></span></td>
            <td>&euro; <span id="ltcInvested"></span></td>
            <td><span id="ltcNum"></span></td>
            <td>x<span id="ltcMultiplier"></span></td>
        </tr>
        <tr>
            <td>MAID</td>
            <td>$ <span id="maidPriceUSD"></span></td>
            <td>&euro; <span id="maidPrice"></span></td>
            <td>&euro; <span id="maidVal"></span></td>
            <td>&euro; <span id="maidInvested"></span></td>
            <td><span id="maidNum"></span></td>
            <td>x<span id="maidMultiplier"></span></td>
        </tr>
        <tr>
            <td>XRP</td>
            <td>$ <span id="xrpPriceUSD"></span></td>
            <td>&euro; <span id="xrpPrice"></span></td>
            <td>&euro; <span id="xrpVal"></span></td>
            <td>&euro; <span id="xrpInvested"></span></td>
            <td><span id="xrpNum"></span></td>
            <td>x<span id="xrpMultiplier"></span></td>
        </tr>
        <tr>
            <td>FCT</td>
            <td>$ <span id="fctPriceUSD"></span></td>
            <td>&euro; <span id="fctPrice"></span></td>
            <td>&euro; <span id="fctVal"></span></td>
            <td>&euro; <span id="fctInvested"></span></td>
            <td><span id="fctNum"></span></td>
            <td>x<span id="fctMultiplier"></span></td>
        </tr>
        <tr>
            <td>Total</td>
            <td></td>
            <td></td>
            <td>&euro; <span id="totalVal"></span></td>
            <td>&euro; <span id="totalInvested"></span></td>
            <td></td>
            <td>x<span id="totalMultiplier"></span></td>
        </tr>
        <tr>
            <td>Profit</td>
            <td></td>
            <td></td>
            <td>&euro; <span id="totalProfit"></span></td>
        </tr>
</body>

</html>
